<!-- ================================================================================================ -->
<!-- SECCIÓN 1: INICIALIZACIÓN Y CARGA DINÁMICA DE RECURSOS - APERTURA -->
<!-- ================================================================================================ -->
<script>
    /**
     * CARGA DINÁMICA DE FUENTE MONTSERRAT
     * Técnica: Creación programática de elementos <link> para evitar bloqueos de renderizado inicial
     */
    function cargarMontserrat() {
        const montserratLink = document.createElement('link');
        montserratLink.rel = 'stylesheet';
        montserratLink.href = 'https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap';
        montserratLink.onload = () => console.log('✅ Montserrat cargado correctamente');
        montserratLink.onerror = () => console.error('❌ Error al cargar Montserrat');
        document.head.appendChild(montserratLink);
    }

    /**
     * FUNCIÓN GENÉRICA DE CARGA DE RECURSOS
     * Patrón de diseño: Factory pattern para crear elementos DOM diferentes según el tipo de recurso
     */
    function cargarRecurso(tipo, url) {
        const elemento = document.createElement(tipo === 'stylesheet' ? 'link' : 'script');
        if (tipo === 'stylesheet') {
            elemento.rel = 'stylesheet';
            elemento.href = url;
        } else {
            elemento.src = url;
            elemento.defer = true; // Performance: Carga no-bloqueante
        }
        elemento.onload = () => console.log(`✅ Recurso cargado correctamente: ${url}`);
        elemento.onerror = () => console.error(`❌ Error al cargar el recurso: ${url}`);
        document.head.appendChild(elemento);
    }

    // Ejecutar carga de recursos críticos
    cargarMontserrat();
    cargarRecurso('stylesheet', 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

    /**
     * INYECCIÓN DE ESTILOS CRÍTICOS
     * Técnica: IIFE (Immediately Invoked Function Expression) para encapsular la lógica de estilos
     */
    (function agregarEstilosExploracion() {
        const customStyles = document.createElement('style');
        customStyles.id = 'banner-exploracion-ultra-resistente';
        customStyles.textContent = `
            /* ================================================================================ */
            /* RESISTENCIA ANTI-MOODLE GARANTIZADA - CSS CRÍTICO INLINE */
            /* ================================================================================ */
            
            /* RESETEO ABSOLUTO DEL CONTENEDOR PRINCIPAL */
            div[data-banner-ultra="exploracion-matematica-v2"] {
                all: initial !important;
                font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif !important;
                margin: 20px 0 !important;
                padding: 0 !important;
                border: none !important;
                background: linear-gradient(135deg, #E83776 0%, #AB2F87 100%) !important;
                color: inherit !important;
                text-decoration: none !important;
                box-sizing: border-box !important;
                display: block !important;
                position: relative !important;
                width: 100% !important;
                max-width: 100% !important;
                min-height: 140px !important;
                overflow: hidden !important;
                border-radius: 20px !important;
                box-shadow: 0 25px 70px rgba(232, 55, 118, 0.4), 0 10px 30px rgba(171, 47, 135, 0.3) !important;
                border: 3px solid rgba(255, 255, 255, 0.2) !important;
                will-change: transform, box-shadow !important; /* GPU acceleration */
                transform: translateZ(0) !important; /* Force GPU layer */
            }

            /* OVERLAY GLASSMORPHISM AVANZADO */
            div[data-banner-ultra="exploracion-matematica-v2"]::before {
                content: '' !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                background: linear-gradient(135deg, rgba(171, 47, 135, 0.15) 0%, transparent 50%, rgba(232, 55, 118, 0.08) 100%) !important;
                z-index: 1 !important;
                pointer-events: none !important;
                opacity: 0.8 !important;
                backdrop-filter: blur(2px) !important;
                -webkit-backdrop-filter: blur(2px) !important;
            }

            /* HEADER PRINCIPAL CON MÁXIMA ESPECIFICIDAD */
            div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"] {
                all: initial !important;
                display: block !important;
                text-align: center !important;
                padding: 45px 40px !important;
                background: rgba(255, 255, 255, 0.12) !important;
                backdrop-filter: blur(30px) saturate(1.4) !important;
                -webkit-backdrop-filter: blur(30px) saturate(1.4) !important;
                border-bottom: 6px solid rgba(255, 255, 255, 0.3) !important;
                position: relative !important;
                z-index: 2 !important;
                overflow: hidden !important;
                width: 100% !important;
                box-sizing: border-box !important;
                font-family: 'Montserrat', sans-serif !important;
            }

            /* ELEMENTO DECORATIVO CIENTÍFICO */
            div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"]::after {
                content: '' !important;
                position: absolute !important;
                top: -40px !important;
                right: -40px !important;
                width: 160px !important;
                height: 160px !important;
                background: radial-gradient(circle, #AB2F87 0%, #E83776 40%, transparent 85%) !important;
                border-radius: 50% !important;
                opacity: 0.4 !important;
                z-index: -1 !important;
                filter: blur(12px) !important;
                animation: explorationPulse 6s ease-in-out infinite !important;
                will-change: opacity, transform !important;
            }

            /* TÍTULO PRINCIPAL CON CONTRASTE ABSOLUTO */
            div[data-banner-ultra="exploracion-matematica-v2"] h1[data-elemento="titulo-exploracion"] {
                all: initial !important;
                font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif !important;
                font-size: clamp(2rem, 6vw, 3.2rem) !important;
                font-weight: 900 !important;
                margin: 0 0 25px 0 !important;
                padding: 0 !important;
                color: #ffffff !important;
                text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.5), 0 0 25px rgba(255, 255, 255, 0.3) !important;
                line-height: 1.1 !important;
                position: relative !important;
                z-index: 3 !important;
                letter-spacing: -0.8px !important;
                text-align: center !important;
                display: block !important;
                box-sizing: border-box !important;
                text-transform: none !important;
                text-decoration: none !important;
                border: none !important;
                background: none !important;
                will-change: color, text-shadow !important;
            }

            /* SUBTÍTULO CON JERARQUÍA VISUAL */
            div[data-banner-ultra="exploracion-matematica-v2"] p[data-elemento="subtitulo-exploracion"] {
                all: initial !important;
                font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif !important;
                font-size: clamp(1.2rem, 3.5vw, 1.6rem) !important;
                font-weight: 700 !important;
                color: #ffffff !important;
                line-height: 1.3 !important;
                position: relative !important;
                z-index: 3 !important;
                text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4), 0 0 15px rgba(255, 255, 255, 0.2) !important;
                text-transform: none !important;
                letter-spacing: 0.5px !important;
                text-align: center !important;
                font-style: normal !important;
                display: block !important;
                margin: 0 !important;
                padding: 0 !important;
                border: none !important;
                background: none !important;
                text-decoration: none !important;
                box-sizing: border-box !important;
            }

            /* ICONOS CON RESPLANDOR EXTREMO */
            div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"] {
                margin-right: 20px !important;
                vertical-align: middle !important;
                font-size: 1.8em !important;
                display: inline-block !important;
                animation: tubeGlow 4s ease-in-out infinite !important;
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
                will-change: transform, filter !important;
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.5) !important;
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3)) !important;
            }

            /* ELEMENTOS FLOTANTES CIENTÍFICOS */
            div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="elementos-cientificos"] {
                all: initial !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                z-index: 1 !important;
                pointer-events: none !important;
                width: 100% !important;
                height: 100% !important;
                display: block !important;
            }

            div[data-concepto="hipotesis-formacion"] {
                all: initial !important;
                position: absolute !important;
                border-radius: 50% !important;
                opacity: 0.35 !important;
                animation: floatCientificoA 8s ease-in-out infinite !important;
                width: 45px !important;
                height: 45px !important;
                background: rgba(255, 255, 255, 0.3) !important;
                top: 18% !important;
                left: 10% !important;
                animation-delay: 0s !important;
                display: block !important;
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.2) !important;
            }

            div[data-concepto="experimentacion-practica"] {
                all: initial !important;
                position: absolute !important;
                border-radius: 50% !important;
                opacity: 0.35 !important;
                animation: floatCientificoB 8s ease-in-out infinite !important;
                width: 38px !important;
                height: 38px !important;
                background: rgba(255, 255, 255, 0.25) !important;
                top: 68% !important;
                right: 18% !important;
                animation-delay: 2.5s !important;
                display: block !important;
                box-shadow: 0 0 18px rgba(255, 255, 255, 0.2) !important;
            }

            div[data-concepto="descubrimiento-conceptos"] {
                all: initial !important;
                position: absolute !important;
                border-radius: 50% !important;
                opacity: 0.35 !important;
                animation: floatCientificoC 8s ease-in-out infinite !important;
                width: 42px !important;
                height: 42px !important;
                background: rgba(255, 255, 255, 0.28) !important;
                top: 42% !important;
                right: 38% !important;
                animation-delay: 5s !important;
                display: block !important;
                box-shadow: 0 0 19px rgba(255, 255, 255, 0.2) !important;
            }

            div[data-concepto="profundizacion-teoria"] {
                all: initial !important;
                position: absolute !important;
                border-radius: 50% !important;
                opacity: 0.35 !important;
                animation: floatCientificoD 8s ease-in-out infinite !important;
                width: 35px !important;
                height: 35px !important;
                background: rgba(255, 255, 255, 0.22) !important;
                top: 28% !important;
                left: 42% !important;
                animation-delay: 1.5s !important;
                display: block !important;
                box-shadow: 0 0 16px rgba(255, 255, 255, 0.2) !important;
            }

            /* ANIMACIONES KEYFRAMES OPTIMIZADAS */
            @keyframes explorationPulse {
                0%, 100% { 
                    opacity: 0.3; 
                    transform: scale(1) rotate(0deg);
                }
                50% { 
                    opacity: 0.6; 
                    transform: scale(1.2) rotate(180deg);
                }
            }

            @keyframes tubeGlow {
                0%, 100% { 
                    transform: scale(1) rotateZ(0deg);
                    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
                }
                25% { 
                    transform: scale(1.1) rotateZ(5deg);
                    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
                }
                50% { 
                    transform: scale(1.15) rotateZ(10deg);
                    filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.7));
                }
                75% { 
                    transform: scale(1.1) rotateZ(5deg);
                    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
                }
            }

            @keyframes floatCientificoA {
                0%, 100% { 
                    transform: translateY(0) translateX(0) rotate(0deg);
                }
                33% { 
                    transform: translateY(-12px) translateX(5px) rotate(120deg);
                }
                66% { 
                    transform: translateY(7px) translateX(-4px) rotate(240deg);
                }
            }

            @keyframes floatCientificoB {
                0%, 100% { 
                    transform: translateY(0) translateX(0) rotate(0deg);
                }
                33% { 
                    transform: translateY(-10px) translateX(7px) rotate(90deg);
                }
                66% { 
                    transform: translateY(8px) translateX(-3px) rotate(270deg);
                }
            }

            @keyframes floatCientificoC {
                0%, 100% { 
                    transform: translateY(0) translateX(0) rotate(0deg);
                }
                33% { 
                    transform: translateY(-14px) translateX(3px) rotate(150deg);
                }
                66% { 
                    transform: translateY(6px) translateX(-5px) rotate(210deg);
                }
            }

            @keyframes floatCientificoD {
                0%, 100% { 
                    transform: translateY(0) translateX(0) rotate(0deg);
                }
                33% { 
                    transform: translateY(-8px) translateX(6px) rotate(60deg);
                }
                66% { 
                    transform: translateY(9px) translateX(-2px) rotate(300deg);
                }
            }

            /* ESTADOS HOVER CON FEEDBACK EXTREMO */
            div[data-banner-ultra="exploracion-matematica-v2"]:hover {
                transform: translateY(-5px) scale(1.01) !important;
                transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
                box-shadow: 0 35px 90px rgba(232, 55, 118, 0.5), 0 15px 40px rgba(171, 47, 135, 0.4) !important;
                border-color: rgba(255, 255, 255, 0.4) !important;
            }

            div[data-banner-ultra="exploracion-matematica-v2"]:hover h1[data-elemento="titulo-exploracion"] {
                color: #fff5e6 !important;
                transition: color 0.6s ease !important;
                text-shadow: 4px 4px 10px rgba(0, 0, 0, 0.6), 0 0 35px rgba(255, 255, 255, 0.5) !important;
            }

            div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"]:hover {
                transform: scale(1.5) rotateZ(360deg) !important;
                filter: drop-shadow(0 0 25px rgba(255, 255, 255, 0.8)) !important;
                text-shadow: 0 0 30px rgba(255, 255, 255, 0.9) !important;
            }

            /* RESPONSIVIDAD EXTREMA */
            @media (max-width: 768px) {
                div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"] {
                    padding: 40px 30px !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"] h1[data-elemento="titulo-exploracion"] {
                    margin-bottom: 20px !important;
                    letter-spacing: -0.5px !important;
                }
                
                div[data-concepto] {
                    opacity: 0.25 !important;
                }
            }

            @media (max-width: 480px) {
                div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"] {
                    padding: 35px 25px !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"] {
                    margin-right: 15px !important;
                    font-size: 1.6em !important;
                }
            }

            /* ACCESIBILIDAD AVANZADA */
            @media (prefers-contrast: high) {
                div[data-banner-ultra="exploracion-matematica-v2"] h1[data-elemento="titulo-exploracion"] {
                    text-shadow: 4px 4px 12px rgba(0, 0, 0, 0.8), 0 0 0 2px #000000 !important;
                    color: #ffffff !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"] p[data-elemento="subtitulo-exploracion"] {
                    color: #ffffff !important;
                    text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.7), 0 0 0 1px #000000 !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"] {
                    border-bottom: 8px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"] {
                    filter: contrast(2) brightness(1.2) !important;
                    text-shadow: 2px 2px 4px rgba(0, 0, 0, 1) !important;
                }
            }

            @media (prefers-reduced-motion: reduce) {
                div[data-banner-ultra="exploracion-matematica-v2"] > div[data-seccion="header-exploracion"]::after,
                div[data-concepto],
                div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"] {
                    animation: none !important;
                }
                
                div[data-banner-ultra="exploracion-matematica-v2"]:hover,
                div[data-banner-ultra="exploracion-matematica-v2"]:hover h1[data-elemento="titulo-exploracion"],
                div[data-banner-ultra="exploracion-matematica-v2"] span[data-icono="tubo-ensayo-principal"]:hover {
                    transition: none !important;
                    transform: none !important;
                }
            }

            /* MONTSERRAT FORZADO GLOBALMENTE */
            div[data-banner-ultra="exploracion-matematica-v2"] *,
            div[data-banner-ultra="exploracion-matematica-v2"] h1,
            div[data-banner-ultra="exploracion-matematica-v2"] p,
            div[data-banner-ultra="exploracion-matematica-v2"] i,
            div[data-banner-ultra="exploracion-matematica-v2"] span {
                font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif !important;
            }
        `;
        document.head.appendChild(customStyles);
        console.log('🎨 Estilos críticos de exploración inyectados con resistencia anti-Moodle garantizada');
    })();
</script>
<!-- ================================================================================================ -->
<!-- SECCIÓN 1: INICIALIZACIÓN Y CARGA DINÁMICA DE RECURSOS - CIERRE -->
<!-- ================================================================================================ -->

<!-- ================================================================================================ -->
<!-- SECCIÓN 2: BANNER PRINCIPAL DE EXPLORACIÓN CIENTÍFICA - APERTURA -->
<!-- ================================================================================================ -->
<div data-banner-ultra="exploracion-matematica-v2">
    <!-- ELEMENTOS CIENTÍFICOS FLOTANTES -->
    <div data-seccion="elementos-cientificos">
        <div data-concepto="hipotesis-formacion"></div>
        <div data-concepto="experimentacion-practica"></div>
        <div data-concepto="descubrimiento-conceptos"></div>
        <div data-concepto="profundizacion-teoria"></div>
    </div>
    
    <!-- HEADER PRINCIPAL CON CONTENIDO EXPLORATORIO -->
    <div data-seccion="header-exploracion">
        <h1 data-elemento="titulo-exploracion">
            <span data-icono="tubo-ensayo-principal" class="banner-icon">🧪</span>
            ¡Explora cada sección y profundiza en los conceptos clave!
        </h1>
        <p data-elemento="subtitulo-exploracion">
            🔍 Módulo 4 - <strong>Razones, Proporciones y regla de Tres</strong>
        </p>
    </div>
</div>
<!-- ================================================================================================ -->
<!-- SECCIÓN 2: BANNER PRINCIPAL DE EXPLORACIÓN CIENTÍFICA - CIERRE -->
<!-- ================================================================================================ -->

<!-- ================================================================================================ -->
<!-- SECCIÓN 3: INFORMACIÓN DESCRIPTIVA DEL MÓDULO DE EXPLORACIÓN - APERTURA -->
<!-- ================================================================================================ -->
<div data-contenedor="informacion-exploracion-matematica" 
     style="all: initial !important; 
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif !important;
            border: 2px solid #AB2F87 !important; 
            border-radius: 15px !important; 
            background: linear-gradient(135deg, #F9E8F5 0%, #F5E6F8 100%) !important; 
            padding: 25px !important; 
            margin: 25px 0 !important; 
            box-shadow: 0 15px 35px rgba(171, 47, 135, 0.2) !important;
            display: block !important;
            position: relative !important;
            box-sizing: border-box !important;
            width: 100% !important;
            overflow: hidden !important;">
    
    <p data-parrafo="competencia-exploracion" 
       style="all: initial !important;
              font-family: 'Montserrat', sans-serif !important;
              color: #1a202c !important; 
              margin: 0 0 15px 0 !important; 
              font-size: 1.1em !important; 
              display: flex !important; 
              align-items: flex-start !important; 
              gap: 12px !important; 
              flex-wrap: wrap !important;
              font-weight: 600 !important;
              line-height: 1.6 !important;
              text-align: left !important;
              padding: 0 !important;
              border: none !important;
              background: none !important;
              text-decoration: none !important;
              box-sizing: border-box !important;">
        <i class="bi bi-controller" 
           style="all: initial !important;
                  color: #AB2F87 !important; 
                  margin-top: 3px !important;
                  font-size: 1.2em !important;
                  text-shadow: 0 0 8px rgba(171, 47, 135, 0.3) !important;
                  display: inline-block !important;
                  font-family: 'Bootstrap Icons' !important;"></i>
        <strong style="all: initial !important; 
                      font-family: 'Montserrat', sans-serif !important;
                      font-weight: 800 !important;
                      color: #1a202c !important;
                      display: inline !important;">
            ¡Jugador, es hora de repasar los conceptos clave de este módulo! Estos conceptos son las reglas 
            esenciales del juego que debes dominar para resolver cualquier desafío matemático que se presente.
        </strong>
    </p>
    
    <p data-parrafo="descripcion-exploracion" 
       style="all: initial !important;
              font-family: 'Montserrat', sans-serif !important;
              color: #2d3748 !important; 
              margin: 0 !important; 
              font-size: 1.05em !important; 
              display: flex !important; 
              align-items: flex-start !important; 
              gap: 10px !important; 
              flex-wrap: wrap !important;
              font-weight: 500 !important;
              line-height: 1.7 !important;
              text-align: left !important;
              padding: 0 !important;
              border: none !important;
              background: none !important;
              text-decoration: none !important;
              box-sizing: border-box !important;">
        <span style="all: initial !important;
                     font-size: 1.3em !important;
                     margin-right: 8px !important;
                     display: inline-block !important;">🎮</span>
        Adéntrate en la exploración y comprensión profunda de estos fundamentos para desbloquear nuevas 
        habilidades y avanzar con éxito al siguiente nivel. Como en cualquier gran aventura, conocer las 
        reglas te dará la ventaja necesaria para superar todos los obstáculos que encontrarás en tu camino.
        
        <a href="https://colmayor.arrobamedellin.edu.co/mod/page/view.php?id=212272" 
           target="_blank" 
           data-enlace="exploracion-detalle"
           style="all: initial !important;
                  font-family: 'Montserrat', sans-serif !important;
                  text-decoration: none !important; 
                  color: #AB2F87 !important; 
                  font-weight: 700 !important;
                  display: inline !important;
                  transition: all 0.3s ease !important;
                  border-bottom: 2px solid transparent !important;
                  padding: 2px 0 !important;
                  margin: 0 5px !important;">
            ¡Inicia tu misión!
        </a>
        
        <i class="bi bi-joystick" 
           style="all: initial !important;
                  color: #AB2F87 !important;
                  font-size: 1.1em !important;
                  display: inline-block !important;
                  margin-left: 5px !important;
                  transition: transform 0.3s ease !important;
                  font-family: 'Bootstrap Icons' !important;"></i>
    </p>
</div>
<!-- ================================================================================================ -->
<!-- SECCIÓN 3: INFORMACIÓN DESCRIPTIVA DEL MÓDULO DE EXPLORACIÓN - CIERRE -->
<!-- ================================================================================================ -->

<!-- ================================================================================================ -->
<!-- SECCIÓN 4: INICIALIZACIÓN Y FUNCIONALIDAD AVANZADA DE EXPLORACIÓN - APERTURA -->
<!-- ================================================================================================ -->
<script>
    /**
     * SISTEMA DE INICIALIZACIÓN ULTRA-RESISTENTE PARA EXPLORACIÓN
     * Patrón de Arquitectura Modular con encapsulación por responsabilidades científicas
     */
    document.addEventListener('DOMContentLoaded', function() {
        console.log('🧪 Inicializando sistema ultra-resistente para Banner de Exploración Científica');

        /**
         * VERIFICACIÓN DE BANNER DE EXPLORACIÓN CON ESPECIFICIDAD MÁXIMA
         */
        function verificarBannerExploracionUltraResistente() {
            const banner = document.querySelector('div[data-banner-ultra="exploracion-matematica-v2"]');
            if (banner) {
                console.log('✅ Banner de exploración ultra-resistente cargado y funcionando correctamente');
                
                // EFECTOS HOVER CIENTÍFICOS CON GPU ACCELERATION
                banner.addEventListener('mouseenter', function() {
                    this.style.setProperty('transform', 'translateY(-5px) scale(1.01) translateZ(0)', 'important');
                    this.style.setProperty('transition', 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)', 'important');
                    this.style.setProperty('box-shadow', '0 35px 90px rgba(232, 55, 118, 0.5), 0 15px 40px rgba(171, 47, 135, 0.4)', 'important');
                    this.style.setProperty('border-color', 'rgba(255, 255, 255, 0.4)', 'important');
                    this.style.setProperty('will-change', 'transform, box-shadow', 'important');
                });
                
                banner.addEventListener('mouseleave', function() {
                    this.style.setProperty('transform', 'translateZ(0)', 'important');
                    this.style.setProperty('box-shadow', '0 25px 70px rgba(232, 55, 118, 0.4), 0 10px 30px rgba(171, 47, 135, 0.3)', 'important');
                    this.style.setProperty('border-color', 'rgba(255, 255, 255, 0.2)', 'important');
                });
                
                // ACCESIBILIDAD CIENTÍFICA AVANZADA CON ARIA
                const titulo = banner.querySelector('h1[data-elemento="titulo-exploracion"]');
                if (titulo) {
                    titulo.setAttribute('tabindex', '0');
                    titulo.setAttribute('role', 'banner');
                    titulo.setAttribute('aria-label', 'Banner de Exploración Científica - Explora cada sección y profundiza en los conceptos clave del Módulo 1');
                    
                    // FOCUS VISUAL CIENTÍFICO EXTREMO
                    titulo.addEventListener('focus', function() {
                        this.style.setProperty('outline', '4px solid rgba(171, 47, 135, 0.8)', 'important');
                        this.style.setProperty('outline-offset', '6px', 'important');
                        this.style.setProperty('border-radius', '12px', 'important');
                        this.style.setProperty('background', 'rgba(255, 255, 255, 0.15)', 'important');
                        this.style.setProperty('padding', '10px', 'important');
                    });
                    
                    titulo.addEventListener('blur', function() {
                        this.style.removeProperty('outline');
                        this.style.removeProperty('outline-offset');
                        this.style.removeProperty('border-radius');
                        this.style.removeProperty('background');
                        this.style.removeProperty('padding');
                    });
                }
                
                // INTERACTIVIDAD CIENTÍFICA EXTREMA PARA ICONOS
                const iconos = banner.querySelectorAll('[data-icono]');
                let interactionCount = 0;
                const interactionEffects = [
                    'drop-shadow(0 0 15px rgba(0, 255, 127, 0.8))',  // Verde científico
                    'drop-shadow(0 0 20px rgba(138, 43, 226, 0.8))', // Púrpura experimental
                    'drop-shadow(0 0 25px rgba(255, 20, 147, 0.8))', // Rosa investigativo
                    'drop-shadow(0 0 30px rgba(0, 191, 255, 0.8))'   // Azul analítico
                ];
                
                iconos.forEach((icono, index) => {
                    icono.addEventListener('click', function(e) {
                        e.preventDefault();
                        this.style.setProperty('filter', interactionEffects[interactionCount % 4], 'important');
                        this.style.setProperty('transform', 'scale(1.3) rotate(360deg)', 'important');
                        
                        interactionCount++;
                        console.log(`🔬 Experimento ${interactionCount}: ${this.getAttribute('data-icono')} activado`);
                        
                        // RESET DESPUÉS DE ANIMACIÓN CIENTÍFICA
                        setTimeout(() => {
                            this.style.removeProperty('transform');
                        }, 600);
                    });
                    
                    // PREPARAR PARA ANIMACIONES CIENTÍFICAS DE GPU
                    icono.style.setProperty('will-change', 'transform, filter', 'important');
                });
            } else {
                console.error('❌ Error: Banner de exploración ultra-resistente no encontrado');
            }
        }

        /**
         * ANÁLISIS CROMÁTICO DE IMPLEMENTACIÓN CIENTÍFICA
         */
        function analizarImplementacionCromaticaCientifica() {
            console.log('🎨 Análisis de implementación cromática científica ultra-resistente:');
            console.log('   ✅ Gradiente magenta: #E83776 → #AB2F87 (PANTONE 205 C → 675 C)');
            console.log('   ✅ Contraste títulos: Blanco (#ffffff) con sombras oscuras para legibilidad');
            console.log('   ✅ Icono tubo ensayo: Emoji 🧪 con resplandor blanco');
            console.log('   ✅ Subtítulo: Blanco (#ffffff) con emoji de lupa 🔍');
            console.log('   ✅ Elementos flotantes: Blanco semi-transparente con animaciones variadas');
            console.log('   ✅ Resistencia: 100% anti-Moodle con selectores únicos científicos');
            console.log('   ✅ Performance: GPU acceleration + will-change optimizado para experimentos');
            console.log('   ✅ Accesibilidad: Contraste óptimo sobre fondo magenta para exploración');
        }

        /**
         * CONFIGURACIÓN DE CONTEXTO CIENTÍFICO MATEMÁTICO
         */
        function configurarContextoCientificoMatematico() {
            const banner = document.querySelector('div[data-banner-ultra="exploracion-matematica-v2"]');
            const contenedor = document.querySelector('div[data-contenedor="informacion-exploracion-matematica"]');
            
            if (banner && contenedor) {
                // ATRIBUTOS DE CONTEXTO CIENTÍFICO MATEMÁTICO
                banner.setAttribute('data-contexto-educativo', 'exploracion-cientifica-matematica');
                banner.setAttribute('data-fase-aprendizaje', 'experimentacion-conceptual');
                banner.setAttribute('data-modulo-numero', '1');
                banner.setAttribute('data-tema-principal', 'numeros-enteros-exploracion');
                banner.setAttribute('data-competencias', 'explorar,experimentar,analizar,profundizar');
                banner.setAttribute('data-metodologia', 'cientifica-matematica');
                banner.setAttribute('data-resistencia-moodle', 'ultra-maxima-cientifica');
                
                contenedor.setAttribute('data-tipo-contenido', 'informacion-exploracion-cientifica');
                contenedor.setAttribute('data-nivel-detalle', 'experimental-descriptivo');
                contenedor.setAttribute('data-enfoque', 'investigativo-matematico');
                
                console.log('🔬 Contexto científico matemático ultra-resistente configurado correctamente');
            }
        }

        /**
         * SISTEMA DE PROGRESIÓN CIENTÍFICA AVANZADO
         */
        function inicializarProgresionCientifica() {
            const elementosCientificos = document.querySelectorAll('div[data-concepto]');
            const conceptosCientificos = [
                'Hipótesis y Formación de Conceptos',
                'Experimentación Práctica', 
                'Descubrimiento de Patrones',
                'Profundización Teórica'
            ];
            
            elementosCientificos.forEach((elemento, index) => {
                const conceptoType = elemento.getAttribute('data-concepto');
                elemento.setAttribute('title', `${conceptosCientificos[index]} - Exploración Científica de Números Enteros`);
                elemento.setAttribute('data-progreso-cientifico', `${index + 1}/4`);
                elemento.setAttribute('data-fase-experimental', conceptoType);
                
                // INTERACTIVIDAD CIENTÍFICA AVANZADA
                elemento.addEventListener('click', function() {
                    console.log(`🧪 Experimento científico: ${conceptoType} (${this.getAttribute('data-progreso-cientifico')})`);
                    this.style.setProperty('opacity', '0.8', 'important');
                    this.style.setProperty('transform', 'scale(1.4)', 'important');
                    this.style.setProperty('box-shadow', '0 0 35px rgba(171, 47, 135, 0.6)', 'important');
                    this.style.setProperty('background', 'rgba(232, 55, 118, 0.4)', 'important');
                    
                    setTimeout(() => {
                        this.style.setProperty('opacity', '0.35', 'important');
                        this.style.removeProperty('transform');
                        this.style.removeProperty('box-shadow');
                        this.style.setProperty('background', 'rgba(255, 255, 255, 0.3)', 'important');
                    }, 2500);
                });
                
                // OPTIMIZACIÓN GPU CIENTÍFICA
                elemento.style.setProperty('will-change', 'transform, opacity, background', 'important');
            });
        }

        /**
         * CONFIGURACIÓN DE ENLACE CIENTÍFICO INTELIGENTE
         */
        function configurarEnlaceCientificoInteligente() {
            const enlace = document.querySelector('a[data-enlace="exploracion-detalle"]');
            const icono = document.querySelector('i.bi-arrow-right-circle-fill');
            
            if (enlace && icono) {
                enlace.addEventListener('mouseenter', function() {
                    this.style.setProperty('border-bottom-color', '#AB2F87', 'important');
                    this.style.setProperty('color', '#7d2465', 'important');
                    this.style.setProperty('text-shadow', '0 0 8px rgba(171, 47, 135, 0.4)', 'important');
                    if (icono) {
                        icono.style.setProperty('transform', 'translateX(8px) rotate(90deg)', 'important');
                        icono.style.setProperty('color', '#E83776', 'important');
                    }
                });
                
                enlace.addEventListener('mouseleave', function() {
                    this.style.setProperty('border-bottom-color', 'transparent', 'important');
                    this.style.setProperty('color', '#AB2F87', 'important');
                    this.style.removeProperty('text-shadow');
                    if (icono) {
                        icono.style.removeProperty('transform');
                        icono.style.setProperty('color', '#AB2F87', 'important');
                    }
                });
                
                enlace.addEventListener('click', function() {
                    console.log('🔗 Navegación hacia exploración científica detallada del módulo');
                });
            }
        }

        // EJECUTAR TODAS LAS FUNCIONES CIENTÍFICAS DE INICIALIZACIÓN
        verificarBannerExploracionUltraResistente();
        analizarImplementacionCromaticaCientifica();
        configurarContextoCientificoMatematico();
        inicializarProgresionCientifica();
        configurarEnlaceCientificoInteligente();
        
        // LOG FINAL DE SISTEMA CIENTÍFICO ULTRA-RESISTENTE
        console.log('🌟 Sistema Científico Ultra-Resistente de Exploración inicializado completamente');
        console.log('🛡️ Características científicas implementadas:');
        console.log('   • Resistencia anti-Moodle máxima con selectores únicos de exploración');
        console.log('   • Tipografía Montserrat forzada globalmente en contexto científico');
        console.log('   • GPU acceleration con will-change optimizado para experimentos');
        console.log('   • Accesibilidad avanzada con ARIA y navegación científica por teclado');
        console.log('   • Interactividad experimental extrema con feedback visual científico');
        console.log('   • Animaciones científicas optimizadas para performance exploratoria');
        console.log('   • Especificidad CSS extrema con !important selectivo para investigación');
        console.log('   • Gradiente magenta PANTONE institucional para energía exploratoria');
    });

    /**
     * FUNCIONES GLOBALES DE UTILIDAD CIENTÍFICA ULTRA-RESISTENTE
     */
    function alternarModoExploracionCientifica() {
        const banner = document.querySelector('div[data-banner-ultra="exploracion-matematica-v2"]');
        if (banner) {
            const modosExploracion = ['hipotesis', 'experimentacion', 'analisis', 'sintesis'];
            const modoActual = banner.getAttribute('data-modo-exploracion') || 'hipotesis';
            const indiceActual = modosExploracion.indexOf(modoActual);
            const nuevoModo = modosExploracion[(indiceActual + 1) % 4];
            
            banner.setAttribute('data-modo-exploracion', nuevoModo);
            console.log(`🔄 Modo exploración científica ultra-resistente: ${nuevoModo}`);
        }
    }
    
    function activarModoInvestigacionAvanzado() {
        const banner = document.querySelector('div[data-banner-ultra="exploracion-matematica-v2"]');
        const contenedor = document.querySelector('div[data-contenedor="informacion-exploracion-matematica"]');
        
        if (banner && contenedor) {
            banner.classList.add('investigacion-cientifica-activa');
            banner.style.setProperty('filter', 'brightness(1.1) saturate(1.3) contrast(1.08)', 'important');
            banner.style.setProperty('box-shadow', '0 40px 100px rgba(232, 55, 118, 0.6), 0 20px 50px rgba(171, 47, 135, 0.5)', 'important');
            contenedor.style.setProperty('transform', 'scale(1.02)', 'important');
            contenedor.style.setProperty('box-shadow', '0 20px 50px rgba(171, 47, 135, 0.3)', 'important');
            contenedor.style.setProperty('border-color', '#E83776', 'important');
            
            console.log('🔬 Modo investigación científica avanzada ultra-resistente activado');
            console.log('✨ Efectos científicos aplicados: brillo, saturación, contraste y escala optimizados para exploración');
        }
    }
    
    function iniciarExperimentoMatematico() {
        const elementosCientificos = document.querySelectorAll('div[data-concepto]');
        console.log('🧪 Iniciando experimento matemático de exploración...');
        
        elementosCientificos.forEach((elemento, index) => {
            setTimeout(() => {
                elemento.style.setProperty('background', 'rgba(232, 55, 118, 0.5)', 'important');
                elemento.style.setProperty('transform', 'scale(1.2)', 'important');
                elemento.style.setProperty('box-shadow', '0 0 25px rgba(171, 47, 135, 0.7)', 'important');
                
                setTimeout(() => {
                    elemento.style.setProperty('background', 'rgba(255, 255, 255, 0.3)', 'important');
                    elemento.style.removeProperty('transform');
                    elemento.style.removeProperty('box-shadow');
                }, 1000);
            }, index * 500);
        });
        
        console.log('🔬 Experimento matemático completado - Conceptos científicos activados secuencialmente');
    }
</script>
<!-- ================================================================================================ -->
<!-- SECCIÓN 4: INICIALIZACIÓN Y FUNCIONALIDAD AVANZADA DE EXPLORACIÓN - CIERRE -->
<!-- ================================================================================================ -->